{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Kwan\\\\Desktop\\\\\\uAC1C\\uBC1C\\uC790\\\\amazing-admin-web\\\\src\\\\layout\\\\content.jsx\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport Card from \"../page/card\";\nimport '../css/Content.css';\nimport { useLocation } from 'react-router-dom';\nimport SearchBar from \"../page/SearchBar\";\nimport axios from \"axios\";\nimport Pagination from \"./Pagination\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Content = () => {\n  _s();\n  const location = useLocation();\n  const [searchItem, setSearchItem] = useState({\n    area: '',\n    name: ''\n  });\n  const [points, setPoints] = useState({\n    content: []\n  });\n  const [totalPages, setTotalPages] = useState(0);\n  const [currentPage, setCurrentPage] = useState(1);\n  useEffect(() => {\n    loadPoints(currentPage);\n  }, [currentPage]);\n  const loadPoints = page => {\n    axios.get(`http://localhost:8080/api/v1/point?page=${page - 1}&size=5`).then(response => {\n      setPoints(response.data);\n      setTotalPages(response.data.totalPages);\n    }).catch(error => {\n      console.error('There was an error!', error);\n    });\n  };\n  const handlePageChange = page => {\n    setCurrentPage(page);\n  };\n  const handleSearch = searchInput => {\n    setSearchItem(searchInput);\n    axios.get(`http://localhost:8080/api/v1/point/search`, {\n      params: {\n        pointName: searchInput.name,\n        page: 0,\n        size: 5\n      }\n    }).then(response => {\n      setPoints(response.data);\n      setTotalPages(response.data.totalPages);\n    }).catch(error => {\n      console.error('There was an error!', error);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"main-container\",\n    children: [/*#__PURE__*/_jsxDEV(SearchBar, {\n      onSearch: handleSearch\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-container\",\n      children: points.content ? points.content.map((data, index) => /*#__PURE__*/_jsxDEV(Card, {\n        data: data,\n        type: \"content\"\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 58\n      }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n      totalPage: totalPages,\n      currentPage: currentPage,\n      onPageChange: handlePageChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 9\n  }, this);\n};\n_s(Content, \"4DItNNx8eLq5kpH2EQOYSDQCGSQ=\", false, function () {\n  return [useLocation];\n});\n_c = Content;\nexport default Content;\nvar _c;\n$RefreshReg$(_c, \"Content\");","map":{"version":3,"names":["React","useContext","useEffect","useState","Card","useLocation","SearchBar","axios","Pagination","jsxDEV","_jsxDEV","Content","_s","location","searchItem","setSearchItem","area","name","points","setPoints","content","totalPages","setTotalPages","currentPage","setCurrentPage","loadPoints","page","get","then","response","data","catch","error","console","handlePageChange","handleSearch","searchInput","params","pointName","size","className","children","onSearch","fileName","_jsxFileName","lineNumber","columnNumber","map","index","type","totalPage","onPageChange","_c","$RefreshReg$"],"sources":["C:/Users/Kwan/Desktop/개발자/amazing-admin-web/src/layout/content.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\r\nimport Card from \"../page/card\";\r\nimport '../css/Content.css';\r\nimport { useLocation } from 'react-router-dom';\r\nimport SearchBar from \"../page/SearchBar\";\r\nimport axios from \"axios\";\r\nimport Pagination from \"./Pagination\";\r\n\r\nconst Content = () => {\r\n    const location = useLocation();\r\n\r\n    const [searchItem, setSearchItem] = useState({\r\n        area: '',\r\n        name: ''\r\n    });\r\n    const [points, setPoints] = useState({ content: [] });\r\n    const [totalPages, setTotalPages] = useState(0);\r\n    const [currentPage, setCurrentPage] = useState(1);\r\n\r\n    useEffect(() => {\r\n        loadPoints(currentPage);\r\n    }, [currentPage]);\r\n\r\n    const loadPoints = (page) => {\r\n        axios.get(`http://localhost:8080/api/v1/point?page=${page - 1}&size=5`)\r\n            .then(response => {\r\n                setPoints(response.data);\r\n                setTotalPages(response.data.totalPages);\r\n\r\n            })\r\n            .catch(error => {\r\n                console.error('There was an error!', error);\r\n            });\r\n    }\r\n\r\n    const handlePageChange = (page) => {\r\n        setCurrentPage(page);\r\n    };\r\n\r\n    const handleSearch = (searchInput) => {\r\n        setSearchItem(searchInput);\r\n        axios.get(`http://localhost:8080/api/v1/point/search`, {\r\n            params: {\r\n                pointName: searchInput.name,\r\n                page: 0,\r\n                size: 5\r\n            }\r\n        })\r\n            .then(response => {\r\n                setPoints(response.data);\r\n                setTotalPages(response.data.totalPages);\r\n            })\r\n            .catch(error => {\r\n                console.error('There was an error!', error);\r\n            });\r\n    };\r\n\r\n    return (\r\n        <div className=\"main-container\">\r\n            <SearchBar onSearch={handleSearch} />\r\n            <div className=\"card-container\">\r\n                {points.content ? (\r\n                    points.content.map((data, index) =>  <Card key={index} data={data} type=\"content\" />)\r\n                ) : (\r\n                    <p>Loading...</p>\r\n                )}\r\n            </div>\r\n            <Pagination totalPage={totalPages} currentPage={currentPage} onPageChange={handlePageChange} />\r\n        </div>\r\n    );\r\n\r\n};\r\n\r\nexport default Content;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,OAAOC,IAAI,MAAM,cAAc;AAC/B,OAAO,oBAAoB;AAC3B,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,SAAS,MAAM,mBAAmB;AACzC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,UAAU,MAAM,cAAc;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEtC,MAAMC,OAAO,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAClB,MAAMC,QAAQ,GAAGR,WAAW,EAAE;EAE9B,MAAM,CAACS,UAAU,EAAEC,aAAa,CAAC,GAAGZ,QAAQ,CAAC;IACzCa,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE;EACV,CAAC,CAAC;EACF,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGhB,QAAQ,CAAC;IAAEiB,OAAO,EAAE;EAAG,CAAC,CAAC;EACrD,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGnB,QAAQ,CAAC,CAAC,CAAC;EAC/C,MAAM,CAACoB,WAAW,EAAEC,cAAc,CAAC,GAAGrB,QAAQ,CAAC,CAAC,CAAC;EAEjDD,SAAS,CAAC,MAAM;IACZuB,UAAU,CAACF,WAAW,CAAC;EAC3B,CAAC,EAAE,CAACA,WAAW,CAAC,CAAC;EAEjB,MAAME,UAAU,GAAIC,IAAI,IAAK;IACzBnB,KAAK,CAACoB,GAAG,CAAE,2CAA0CD,IAAI,GAAG,CAAE,SAAQ,CAAC,CAClEE,IAAI,CAACC,QAAQ,IAAI;MACdV,SAAS,CAACU,QAAQ,CAACC,IAAI,CAAC;MACxBR,aAAa,CAACO,QAAQ,CAACC,IAAI,CAACT,UAAU,CAAC;IAE3C,CAAC,CAAC,CACDU,KAAK,CAACC,KAAK,IAAI;MACZC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC/C,CAAC,CAAC;EACV,CAAC;EAED,MAAME,gBAAgB,GAAIR,IAAI,IAAK;IAC/BF,cAAc,CAACE,IAAI,CAAC;EACxB,CAAC;EAED,MAAMS,YAAY,GAAIC,WAAW,IAAK;IAClCrB,aAAa,CAACqB,WAAW,CAAC;IAC1B7B,KAAK,CAACoB,GAAG,CAAE,2CAA0C,EAAE;MACnDU,MAAM,EAAE;QACJC,SAAS,EAAEF,WAAW,CAACnB,IAAI;QAC3BS,IAAI,EAAE,CAAC;QACPa,IAAI,EAAE;MACV;IACJ,CAAC,CAAC,CACGX,IAAI,CAACC,QAAQ,IAAI;MACdV,SAAS,CAACU,QAAQ,CAACC,IAAI,CAAC;MACxBR,aAAa,CAACO,QAAQ,CAACC,IAAI,CAACT,UAAU,CAAC;IAC3C,CAAC,CAAC,CACDU,KAAK,CAACC,KAAK,IAAI;MACZC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;IAC/C,CAAC,CAAC;EACV,CAAC;EAED,oBACItB,OAAA;IAAK8B,SAAS,EAAC,gBAAgB;IAAAC,QAAA,gBAC3B/B,OAAA,CAACJ,SAAS;MAACoC,QAAQ,EAAEP;IAAa;MAAAQ,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG,eACrCpC,OAAA;MAAK8B,SAAS,EAAC,gBAAgB;MAAAC,QAAA,EAC1BvB,MAAM,CAACE,OAAO,GACXF,MAAM,CAACE,OAAO,CAAC2B,GAAG,CAAC,CAACjB,IAAI,EAAEkB,KAAK,kBAAMtC,OAAA,CAACN,IAAI;QAAa0B,IAAI,EAAEA,IAAK;QAACmB,IAAI,EAAC;MAAS,GAAjCD,KAAK;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,QAA+B,CAAC,gBAErFpC,OAAA;QAAA+B,QAAA,EAAG;MAAU;QAAAE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAChB;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QACC,eACNpC,OAAA,CAACF,UAAU;MAAC0C,SAAS,EAAE7B,UAAW;MAACE,WAAW,EAAEA,WAAY;MAAC4B,YAAY,EAAEjB;IAAiB;MAAAS,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,QAAG;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,QAC7F;AAGd,CAAC;AAAClC,EAAA,CA/DID,OAAO;EAAA,QACQN,WAAW;AAAA;AAAA+C,EAAA,GAD1BzC,OAAO;AAiEb,eAAeA,OAAO;AAAC,IAAAyC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}